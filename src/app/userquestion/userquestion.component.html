<!-- <app-stepper></app-stepper> -->
<mat-toolbar color="primary">Angular Survey</mat-toolbar>
<mat-stepper linear #stepper>
  <div *ngIf="selectedScenario['selectedScenario'] == '1'">
    <mat-step class="cust_step" [stepControl]="firstFormGroup" [editable]="isEditable"
      *ngFor="let item of userData; let i = index">
      <!-- <span>{{inputsdata[i]}}</span> -->

      <form [formGroup]="firstFormGroup">
        <div *ngFor="let items of item.questions; let index = index">
          <ng-template matStepLabel>Fill out your Answer</ng-template>

          <p style="margin-top: 20px !important">{{items.question}}</p>
          <br />
          <!-- ----custom--- -->
          <!-- <app-custominput
            inputformControlName="firstCtrl"
            [inputType]="inputsdata[i]"></app-custominput> -->
          <!-- ==============text============ -->
          <!-- {{data[items.id]}} -->
          <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'text'">
            <mat-label>Answer</mat-label>
            <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" placeholder="Please give Answer"
              [(ngModel)]="data[items.id]" required />
          </mat-form-field>

          <!-- ===========button=========== -->

          <div *ngIf="inputsdata[i] == 'button'" class="d-flex">
            <mat-form-field appearance="outline">
              <mat-label>{{ items.answers }}</mat-label>
              <input matInput value="{{ items.answers }}"  [readonly]="true"  [disabled]="true" />
            </mat-form-field>
            <div class="mt-4 ms-2 p-1">
              <label class="custom-radio-button__container">
                <input type="radio" name="radio{{items.id}}" value="true" (change)="onItemChange($event,items.id)"
                  [checked]="data[items.id] ==undefined?true:  data[items.id] == 'true' ? true : data[items.id] == '' ? true : false" />
                <span class="custom-radio-button designer">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-check"
                    viewBox="0 0 16 16">
                    <path
                      d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z" />
                  </svg>
                </span>
              </label>
              <label class="custom-radio-button__container">
                <input type="radio" name="radio{{items.id}}" value="false" (change)="onItemChange($event,items.id)"
                  [checked]="data[items.id] == 'false' ? true : false" />
                <span class="custom-radio-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x"
                    viewBox="0 0 16 16">
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                  </svg>
                </span>
              </label>
            </div>
          </div>

          <!-- ==========edit============ -->
          <div class="d-flex">
            <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'edit'">
              <mat-label>{{ items.answers }}</mat-label>
              <input matInput value="{{ items.answers }}" [(ngModel)]="data[items.id]" formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}"
                placeholder="{{ items.answers }}"  [readonly]="isReadonly[items.id]==undefined?true:isReadonly[items.id]" [disabled]="isReadonly[items.id]==undefined?true:isReadonly[items.id]" />
            </mat-form-field>
            <i *ngIf="inputsdata[i] == 'edit'" (click)="edit(items.id)" class="fa fa-pencil float-end fs-3"
              style="margin-top: 2%; margin-left: 1%; cursor: pointer !important" id="edit"></i>
          </div>
          <!-- =========placeholder========== -->

          <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'placeholder'">
            <mat-label>{{ items.answers }}</mat-label>
            <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" [(ngModel)]="data[items.id]"
              placeholder="{{ items.answers }}" />
          </mat-form-field>

          <!-- ============subtext============= -->

          <div *ngIf="inputsdata[i] == 'subtext'">
            <mat-form-field appearance="outline">
              <mat-label>Answer</mat-label>
              <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" [(ngModel)]="data[items.id]" placeholder="Please give Answer" (focusout)="onFocusEvent($event,items.id)" required />
            </mat-form-field>
            <div class="mb-2" *ngIf="isSubtextVisible[items.id]==true">
              <span>{{ items.answers }}</span>
            </div>
          </div>

        </div>
        <div>
          <button mat-button matStepperNext *ngIf="i != userData.length - 1" (click)="next(item, i)">
            Next
          </button>
          <button mat-button matStepperNext *ngIf="i == userData.length - 1" (click)="submitableDataForScOne(item, i)">
            Submit
          </button>
        </div>
      </form>
    </mat-step>
  </div>

  <!-- ----sc-2---- -->
  <div *ngIf="selectedScenario['selectedScenario'] == '2'">
    <mat-step class="cust_step" [stepControl]="firstFormGroup" [editable]="isEditable"
      *ngFor="let item of userDataScTwo; let i = index">
      <!-- <span>{{inputsdata[i]}}</span> -->

      <form [formGroup]="firstFormGroup">
        <div *ngFor="let items of item.questions; let index = index">
          <ng-template matStepLabel>Fill out your Answer</ng-template>

          <p style="margin-top: 20px !important">{{items.question}}</p>
          <br />
          <div class="imgPlaceHolder">
            <img [src]="items.img" height="100px" width="100px" />
          </div>
          <!-- ----custom--- -->
          <!-- <app-custominput
            inputformControlName="firstCtrl"
            [inputType]="inputsdata[i]"></app-custominput> -->
          <!-- ==============text============ -->
          <!-- {{data[items.id]}} -->
          <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'text'">
            <mat-label>Answer</mat-label>
            <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" placeholder="Please give Answer"
              [(ngModel)]="data[items.id]" required />
          </mat-form-field>

          <!-- ===========button=========== -->

          <div *ngIf="inputsdata[i] == 'button'" class="d-flex">
            <mat-form-field appearance="outline">
              <mat-label>{{ items.answers }}</mat-label>
              <input matInput value="{{ items.answers }}"  [readonly]="true"  [disabled]="true" />
            </mat-form-field>
            <div class="mt-4 ms-2 p-1">
              <label class="custom-radio-button__container">
                <input type="radio" name="radio{{items.id}}" value="true" (change)="onItemChange($event,items.id)"
                  [checked]="data[items.id] == 'true' ? true : data[items.id] == '' ? true : false" />
                <span class="custom-radio-button designer">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-check"
                    viewBox="0 0 16 16">
                    <path
                      d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z" />
                  </svg>
                </span>
              </label>
              <label class="custom-radio-button__container">
                <input type="radio" name="radio{{items.id}}" value="false" (change)="onItemChange($event,items.id)"
                  [checked]="data[items.id] == 'false' ? true : false" />
                <span class="custom-radio-button">
                  <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" fill="currentColor" class="bi bi-x"
                    viewBox="0 0 16 16">
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z" />
                  </svg>
                </span>
              </label>
            </div>
          </div>

          <!-- ==========edit============ -->
          <div class="d-flex">
            <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'edit'">
              <mat-label>{{ items.answers }}</mat-label>
              <input matInput value="{{ items.answers }}" [(ngModel)]="data[items.id]" formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}"
                placeholder="{{ items.answers }}"  [readonly]="isReadonly[items.id]==undefined?true:isReadonly[items.id]" [disabled]="isReadonly[items.id]==undefined?true:isReadonly[items.id]" />
            </mat-form-field>
            <i *ngIf="inputsdata[i] == 'edit'" (click)="edit(items.id)" class="fa fa-pencil float-end fs-3"
              style="margin-top: 2%; margin-left: 1%; cursor: pointer !important" id="edit"></i>
          </div>
          <!-- =========placeholder========== -->

          <mat-form-field appearance="outline" *ngIf="inputsdata[i] == 'placeholder'">
            <mat-label>{{ items.answers }}</mat-label>
            <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" [(ngModel)]="data[items.id]"
              placeholder="{{ items.answers }}" />
          </mat-form-field>

          <!-- ============subtext============= -->

          <div *ngIf="inputsdata[i] == 'subtext'">
            <mat-form-field appearance="outline">
              <mat-label>Answer</mat-label>
              <input matInput formControlName="firstCtrl{{index}}" name="firstCtrl{{index}}" [(ngModel)]="data[items.id]" placeholder="Please give Answer" (focusout)="onFocusEvent($event,items.id)" required />
            </mat-form-field>
            <div class="mb-2" *ngIf="isSubtextVisible[items.id]==true">
              <span>Recomended: {{ items.answers }}</span>
            </div>
          </div>

        </div>
        <div>
          <button mat-button matStepperNext *ngIf="i != userData.length - 1" (click)="next(item, i)">
            Next
          </button>
          <button mat-button matStepperNext *ngIf="i == userData.length - 1" (click)="submitableDataForScOne(item, i)">
            Submit
          </button>
        </div>
      </form>
    </mat-step>
  </div>

</mat-stepper>